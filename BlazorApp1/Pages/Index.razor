@page "/"
@using DamoModels.CustomModels;
@using BlazorApp1.Services;
@inject IEmpService empservice;
@inject IJSRuntime JSRuntime;

<PageTitle>Index</PageTitle>
<div class="container">
    <EditForm Model="@employe" OnValidSubmit="AddNewEmploye">
        <table class="table table-striped table-bordered">
            <tr>
                <td>Name</td>
                <td>Company</td>
                <td>YearoffExprience</td>
            </tr>
            <tr>
                <td>
                    <InputText @bind-Value="employe.Name" class="form-control" />
                </td>
                <td>
                    <InputText @bind-Value="employe.Company" class="form-control" />
                </td>
                <td>
                    <InputText @bind-Value="employe.YearoffExprience" class="form-control" />
                </td>
                <td>
                    <button type="submit" class="btn btn-primary">Add</button>
                </td>
            </tr>
        </table>
    </EditForm>
</div>



@code {

    private Employe employe = new Employe();

    private  async Task AddNewEmploye()
    {
        var response = await empservice.AddNewEmploye(employe);

        if (response != null)
        {
            await customAlert("Employee added successfully");
            employe = new Employe();
        }
    }
    private async Task customAlert(string message)
    {
        await JSRuntime.InvokeVoidAsync("alert", message);
    }
}
